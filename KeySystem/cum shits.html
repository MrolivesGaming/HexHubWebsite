<?
    ini_set('display_errors', 'Off');
 error_reporting(0);
    session_start();
    $_SESSION['time'] = time(); 
?>

<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  ================================================== -->


  

  <!-- Mobile Specific Metas
  ================================================== -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="HexHub, Number One Roblox Hub!">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <meta name="author" content="Hexer">
  <meta name="generator" content="HexHub Softworks">


  

  <!-- CUSTOM CSS -->
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- ===============================================-->
  <!--    Document Title-->
  <!-- ===============================================-->
  <title>HEXHUB | KEY SYSTEM</title>

  <!-- ===============================================-->
  <!--    Favicons-->
  <!-- ===============================================-->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
  <link rel="shortcut icon" type="image/x-icon" href="/assets/img/favicons/favicon.ico">
  <link rel="manifest" href="/assets/img/favicons/manifest.json">
  <meta name="msapplication-TileImage" content="/assets/img/favicons/mstile-150x150.png">
  <meta name="theme-color" content="#ffffff">

  <!-- ===============================================-->
  <!--    Stylesheets-->
  <!-- ===============================================-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2:wght@400;500;600;700&amp;family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,300&amp;display=swap" rel="stylesheet">
  <link href="assets/css/theme.min.css" rel="stylesheet" />
  <link href="assets/css/user.min.css" rel="stylesheet" />

  <style>

body {
background-image: url(assets/img/FLUIDWHITEWAVES.JPG);
background-blend-mode: normal;
background-clip: unset;
background-size:cover;
}

  </style>

</head>



<!--================================
=            Page Title            =
=================================-->

<nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" data-navbar-on-scroll="light">
  <div class="container"><a class="navbar-brand" href="https://hex-hub.glitch.me"><img src="assets/img/icons/Logo.png" height="35" alt="logo" /></a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse border-top border-lg-0 mt-4 mt-lg-0" id="navbarSupportedContent">
      <ul class="navbar-nav ms-auto pt-2 pt-lg-0 font-base align-items-center">
        <li class="nav-item"><a class="nav-link px-3" href="#product">Script</a></li>
        <li class="nav-item"><a class="nav-link px-3" href="#customers">Games</a></li>
        <li class="nav-item"><a class="nav-link px-3" href="#pricing">Interface</a></li>
        <li class="nav-item"><a class="nav-link pl-3 me-3" href="#docs">Documentation </a></li>
      </ul><button class="btn btn-primary">PURCHASE PREMIUM</button>
    </div>
  </div>
</nav>


<section class="section page-title">
	<div class="container">
		<div class="row">
			<div class="col-sm-8 m-auto">
				<!-- Page Title -->
        <p>&nbsp;</p>
        <center>
				<h1>KEY SYSTEM</h1>
        <h4 style="color: rgb(68, 68, 68);">GET YOUR KEY</h4>
      </center>
				<!-- Page Description -->
				<p></p>
			</div>
		</div>
	</div>
</section>

<!--====  End of Page Title  ====-->

<style>
    .text-center {
        text-align: center;
    }
</style>


<center>
<h5 style="color: rgb(0, 0, 0);text-align: center;">YOUR KEY:</h5>
<p class="form-control" id="KEY" style="color: black;text-align: center;font-weight: bold;max-width: 500px;">KEY GENERATING</p>


<button class="btn btn-md btn-primary me-1" onclick="COPYKEY(document.getElementById('KEY'))">COPY KEY</button>
</center>



<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>


<!--============================
=            Footer            =
=============================-->
<footer>
  <div class="text-center footer-main">
    <small class="text-secondary">Copyright &copy; <script>document.write(new Date().getFullYear())</script>. HexHub Softworks</small class="text-secondary">
  </div>
</footer>


  <!-- To Top -->
  <div class="scroll-top-to">
    <i class="ti-angle-up"></i>
  </div>
  
  <!-- JAVASCRIPTS -->
  <script src='https://www.google.com/recaptcha/api.js' async defer ></script>
  <script src="vendors/popper/popper.min.js"></script>
    <script src="vendors/bootstrap/bootstrap.min.js"></script>
    <script src="vendors/anchorjs/anchor.min.js"></script>
    <script src="vendors/is/is.min.js"></script>
    <script src="vendors/fontawesome/all.min.js"></script>
    <script src="vendors/lodash/lodash.min.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js"></script>
    <script src="vendors/imagesloaded/imagesloaded.pkgd.js"></script>
    <script src="vendors/gsap/customEase.js"></script>
    <script src="vendors/gsap/scrollToPlugin.js"></script>
    <!--script(src=`${CWD}vendors/gsap/drawSVGPlugin.js`)-->
    <script src="assets/js/theme.js"></script>

  <script>

function COPYKEY(ELM) {
  // Get the text field
  var copyText = ELM;

  // Select the text field
  copyText.select();
  copyText.setSelectionRange(0, 99999); // For mobile devices

   // Copy the text inside the text field
  navigator.clipboard.writeText(copyText.value);

  // Alert the copied text
  alert("COPIED KEY!");
}


  </script>

</body>

<?php

$key = keytodb(generatekey(25));
echo '<script> document.getElementById("KEY").innerHTML = ' . $key . '</script>';

// GENERATING THE RANDOM KEY

function generatekey($length){

 $characters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';

 $charactersLength = strlen($characters);

 $randomString = '';

 for ($i = 0; $i < $length; $i++){

     $randomString .= $characters[rand(0, $charactersLength - 1)];

 }

 return $randomString;
 
}

// GENERATING THE RANDOM KEY
function keytodb($generatedkey){
    $data = file_get_contents('database.php');
    $data2 = str_replace("<?php", "",$data);
    $data3 = str_replace("?>", "",$data2);
    $data4 =  substr_replace($data3,'\'' . $generatedkey.'\'' . ',',-3,-3);
    file_put_contents('database.php', '<?php' . $data4 . '?>');
    $_SESSION['time'] = NULL;
    $_SESSION['timetwo'] = NULL;
    $_SESSION['timethree'] = NULL;
    return $generatedkey;
}

// SAVING THE KEY INTO THE DATABASE 


?>

</html>

<?php
  if(!empty($_POST['g-recaptcha-response']))
  {
        $secret = '6Le7bLonAAAAAKHMmBjQa8EX7mOrcuOB1K9R1r68';
        $verifyResponse = file_get_contents('https://www.google.com/recaptcha/api/siteverify?secret='.$secret.'&response='.$_POST['g-recaptcha-response']);
        $responseData = json_decode($verifyResponse);
        if($responseData->success)
            $message = "g-recaptcha verified successfully";  
        else
            $message = "Some error in verifying g-recaptcha";
       echo $message;
   }
?>